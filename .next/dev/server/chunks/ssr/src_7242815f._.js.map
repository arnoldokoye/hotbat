{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnoldokoye/hotbat/src/lib/api/utils.ts"],"sourcesContent":["export async function simulateNetworkLatency(min = 80, max = 200) {\n  const delay = Math.floor(Math.random() * (max - min + 1)) + min;\n  return new Promise((resolve) => setTimeout(resolve, delay));\n}\n"],"names":[],"mappings":";;;;AAAO,eAAe,uBAAuB,MAAM,EAAE,EAAE,MAAM,GAAG;IAC9D,MAAM,QAAQ,KAAK,KAAK,CAAC,KAAK,MAAM,KAAK,CAAC,MAAM,MAAM,CAAC,KAAK;IAC5D,OAAO,IAAI,QAAQ,CAAC,UAAY,WAAW,SAAS;AACtD"}},
    {"offset": {"line": 16, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnoldokoye/hotbat/src/lib/api/todayGames.ts"],"sourcesContent":["import { simulateNetworkLatency } from \"./utils\";\n\n// Types aligned with docs/Backend_API_Contracts.md\nexport type TodayGamesResponse = {\n  date: string;\n  games: {\n    id: number;\n    date: string;\n    startTimeLocal?: string;\n    homeTeamId: number;\n    awayTeamId: number;\n    homeTeamName: string;\n    awayTeamName: string;\n    homeTeamAbbrev: string;\n    awayTeamAbbrev: string;\n    homeTeamLogoUrl?: string;\n    awayTeamLogoUrl?: string;\n    parkName: string;\n    parkHrFactor?: number;\n    homePredictedHrMean?: number;\n    awayPredictedHrMean?: number;\n    hotbatScore?: number;\n  }[];\n};\n\nconst DEFAULT_TODAY_DATE = process.env.SEED_TODAY_DATE ?? \"2024-06-15\";\n\nfunction resolveBaseUrl(explicit?: string) {\n  if (explicit) return explicit;\n  if (typeof window !== \"undefined\" && window.location?.origin) {\n    return window.location.origin;\n  }\n  const envHost =\n    process.env.NEXT_PUBLIC_SITE_URL ||\n    process.env.VERCEL_URL ||\n    process.env.NEXTAUTH_URL;\n  if (envHost) {\n    return envHost.startsWith(\"http\") ? envHost : `https://${envHost}`;\n  }\n  const port = process.env.PORT || \"3000\";\n  return `http://127.0.0.1:${port}`;\n}\n\nexport async function fetchTodayGames(\n  date: string = DEFAULT_TODAY_DATE,\n  baseUrl?: string,\n): Promise<TodayGamesResponse> {\n  await simulateNetworkLatency();\n  const url = new URL(\"/api/today-games\", resolveBaseUrl(baseUrl));\n  url.searchParams.set(\"date\", date);\n\n  const res = await fetch(url.toString(), {\n    method: \"GET\",\n    cache: \"no-store\",\n  });\n  if (!res.ok) {\n    const text = await res.text();\n    throw new Error(`Failed to fetch today games: ${res.status} ${text}`);\n  }\n  return (await res.json()) as TodayGamesResponse;\n}\n"],"names":[],"mappings":";;;;AAAA;;AAyBA,MAAM,qBAAqB,QAAQ,GAAG,CAAC,eAAe,IAAI;AAE1D,SAAS,eAAe,QAAiB;IACvC,IAAI,UAAU,OAAO;IACrB,IAAI,kDAAkB,eAAe,OAAO,QAAQ,EAAE;;IAGtD,MAAM,UACJ,QAAQ,GAAG,CAAC,oBAAoB,IAChC,QAAQ,GAAG,CAAC,UAAU,IACtB,QAAQ,GAAG,CAAC,YAAY;IAC1B,IAAI,SAAS;QACX,OAAO,QAAQ,UAAU,CAAC,UAAU,UAAU,CAAC,QAAQ,EAAE,SAAS;IACpE;IACA,MAAM,OAAO,QAAQ,GAAG,CAAC,IAAI,IAAI;IACjC,OAAO,CAAC,iBAAiB,EAAE,MAAM;AACnC;AAEO,eAAe,gBACpB,OAAe,kBAAkB,EACjC,OAAgB;IAEhB,MAAM,IAAA,oJAAsB;IAC5B,MAAM,MAAM,IAAI,IAAI,oBAAoB,eAAe;IACvD,IAAI,YAAY,CAAC,GAAG,CAAC,QAAQ;IAE7B,MAAM,MAAM,MAAM,MAAM,IAAI,QAAQ,IAAI;QACtC,QAAQ;QACR,OAAO;IACT;IACA,IAAI,CAAC,IAAI,EAAE,EAAE;QACX,MAAM,OAAO,MAAM,IAAI,IAAI;QAC3B,MAAM,IAAI,MAAM,CAAC,6BAA6B,EAAE,IAAI,MAAM,CAAC,CAAC,EAAE,MAAM;IACtE;IACA,OAAQ,MAAM,IAAI,IAAI;AACxB"}},
    {"offset": {"line": 52, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnoldokoye/hotbat/src/components/ui/Card.tsx"],"sourcesContent":["import { ReactNode } from \"react\";\n\ntype CardProps = {\n  children: ReactNode;\n  className?: string;\n  dataTestId?: string;\n};\n\ntype CardSectionProps = {\n  children: ReactNode;\n  className?: string;\n};\n\n/**\n * Card is a simple container with shared padding, border, and background styling.\n */\nexport function Card({ children, className = \"\", dataTestId }: CardProps) {\n  return (\n    <div\n      data-testid={dataTestId}\n      className={`rounded-xl border border-slate-200 bg-white shadow-sm dark:border-slate-800 dark:bg-slate-900 ${className}`}\n    >\n      {children}\n    </div>\n  );\n}\n\nexport function CardHeader({ children, className = \"\" }: CardSectionProps) {\n  return (\n    <div\n      className={`flex flex-wrap items-center justify-between gap-3 border-b border-slate-100 px-5 py-4 text-slate-900 dark:border-slate-800 dark:text-slate-50 ${className}`}\n    >\n      {children}\n    </div>\n  );\n}\n\nexport function CardBody({ children, className = \"\" }: CardSectionProps) {\n  return <div className={`px-5 py-4 ${className}`}>{children}</div>;\n}\n\nexport function CardFooter({ children, className = \"\" }: CardSectionProps) {\n  return (\n    <div\n      className={`border-t border-slate-100 px-5 py-4 dark:border-slate-800 ${className}`}\n    >\n      {children}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;;;;;;;;AAgBO,SAAS,KAAK,EAAE,QAAQ,EAAE,YAAY,EAAE,EAAE,UAAU,EAAa;IACtE,qBACE,8OAAC;QACC,eAAa;QACb,WAAW,CAAC,8FAA8F,EAAE,WAAW;kBAEtH;;;;;;AAGP;AAEO,SAAS,WAAW,EAAE,QAAQ,EAAE,YAAY,EAAE,EAAoB;IACvE,qBACE,8OAAC;QACC,WAAW,CAAC,8IAA8I,EAAE,WAAW;kBAEtK;;;;;;AAGP;AAEO,SAAS,SAAS,EAAE,QAAQ,EAAE,YAAY,EAAE,EAAoB;IACrE,qBAAO,8OAAC;QAAI,WAAW,CAAC,UAAU,EAAE,WAAW;kBAAG;;;;;;AACpD;AAEO,SAAS,WAAW,EAAE,QAAQ,EAAE,YAAY,EAAE,EAAoB;IACvE,qBACE,8OAAC;QACC,WAAW,CAAC,0DAA0D,EAAE,WAAW;kBAElF;;;;;;AAGP"}},
    {"offset": {"line": 109, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnoldokoye/hotbat/src/features/today-games/components/TodayGamesHeader.tsx"],"sourcesContent":["\"use client\";\n\nimport { ChangeEvent } from \"react\";\nimport { Card, CardBody, CardHeader } from \"@/components/ui/Card\";\nimport { Select } from \"@/components/ui/Select\";\n\ntype TodayGamesHeaderProps = {\n  selectedDate: string;\n  onDateChange: (value: string) => void;\n  teamQuery: string;\n  onTeamQueryChange: (value: string) => void;\n  minHotBatScore: number;\n  onMinHotBatScoreChange: (value: number) => void;\n  minParkHrFactor: number;\n  onMinParkHrFactorChange: (value: number) => void;\n  gamesCount: number;\n};\n\nconst mockDateOptions = [\"2024-06-15\", \"2024-06-16\", \"2024-06-17\"];\n\n/**\n * TodayGamesHeader provides the page title and filter controls.\n */\nexport function TodayGamesHeader({\n  selectedDate,\n  onDateChange,\n  teamQuery,\n  onTeamQueryChange,\n  minHotBatScore,\n  onMinHotBatScoreChange,\n  minParkHrFactor,\n  onMinParkHrFactorChange,\n  gamesCount,\n}: TodayGamesHeaderProps) {\n  return (\n    <Card>\n      <CardHeader>\n        <div>\n          <p className=\"text-xs font-semibold uppercase tracking-wide text-slate-500 dark:text-slate-400\">\n            Today&apos;s Games\n          </p>\n          <p className=\"text-sm text-slate-600 dark:text-slate-300\">\n            Showing {gamesCount} games on {selectedDate}\n          </p>\n        </div>\n      </CardHeader>\n      <CardBody className=\"grid gap-3 md:grid-cols-2 lg:grid-cols-4\">\n        <Select\n          label=\"Date\"\n          value={selectedDate}\n          onChange={(event) => onDateChange(event.target.value)}\n        >\n          {mockDateOptions.map((date) => (\n            <option key={date} value={date}>\n              {date}\n            </option>\n          ))}\n        </Select>\n\n        <label className=\"flex flex-col gap-1 text-sm font-medium text-slate-700 dark:text-slate-200\">\n          <span className=\"text-xs text-slate-500 dark:text-slate-400\">Team search</span>\n          <input\n            type=\"search\"\n            value={teamQuery}\n            onChange={(event) => onTeamQueryChange(event.target.value)}\n            placeholder=\"Search team\"\n            className=\"h-11 rounded-lg border border-slate-200 bg-white px-3 text-sm font-medium text-slate-800 shadow-sm transition hover:border-slate-300 focus:border-slate-400 focus:outline-none dark:border-slate-800 dark:bg-slate-900 dark:text-slate-100\"\n          />\n        </label>\n\n        <NumericField\n          label=\"Min HotBat score\"\n          value={minHotBatScore}\n          onChange={(val) => onMinHotBatScoreChange(val)}\n          min={0}\n          max={100}\n        />\n\n        <NumericField\n          label=\"Min park HR factor\"\n          value={minParkHrFactor}\n          onChange={(val) => onMinParkHrFactorChange(val)}\n          min={0}\n          max={2}\n          step={0.01}\n        />\n      </CardBody>\n    </Card>\n  );\n}\n\ntype NumericFieldProps = {\n  label: string;\n  value: number;\n  onChange: (value: number) => void;\n  min?: number;\n  max?: number;\n  step?: number;\n};\n\nfunction NumericField({ label, value, onChange, min, max, step }: NumericFieldProps) {\n  return (\n    <label className=\"flex flex-col gap-1 text-sm font-medium text-slate-700 dark:text-slate-200\">\n      <span className=\"text-xs text-slate-500 dark:text-slate-400\">{label}</span>\n      <input\n        type=\"number\"\n        value={value}\n        min={min}\n        max={max}\n        step={step}\n        onChange={(event: ChangeEvent<HTMLInputElement>) =>\n          onChange(Number(event.target.value))\n        }\n        className=\"h-11 rounded-lg border border-slate-200 bg-white px-3 text-sm font-medium text-slate-800 shadow-sm transition hover:border-slate-300 focus:border-slate-400 focus:outline-none dark:border-slate-800 dark:bg-slate-900 dark:text-slate-100\"\n      />\n    </label>\n  );\n}\n"],"names":[],"mappings":";;;;;AAGA;AACA;AAJA;;;;AAkBA,MAAM,kBAAkB;IAAC;IAAc;IAAc;CAAa;AAK3D,SAAS,iBAAiB,EAC/B,YAAY,EACZ,YAAY,EACZ,SAAS,EACT,iBAAiB,EACjB,cAAc,EACd,sBAAsB,EACtB,eAAe,EACf,uBAAuB,EACvB,UAAU,EACY;IACtB,qBACE,8OAAC,wIAAI;;0BACH,8OAAC,8IAAU;0BACT,cAAA,8OAAC;;sCACC,8OAAC;4BAAE,WAAU;sCAAmF;;;;;;sCAGhG,8OAAC;4BAAE,WAAU;;gCAA6C;gCAC/C;gCAAW;gCAAW;;;;;;;;;;;;;;;;;;0BAIrC,8OAAC,4IAAQ;gBAAC,WAAU;;kCAClB,8OAAC,4IAAM;wBACL,OAAM;wBACN,OAAO;wBACP,UAAU,CAAC,QAAU,aAAa,MAAM,MAAM,CAAC,KAAK;kCAEnD,gBAAgB,GAAG,CAAC,CAAC,qBACpB,8OAAC;gCAAkB,OAAO;0CACvB;+BADU;;;;;;;;;;kCAMjB,8OAAC;wBAAM,WAAU;;0CACf,8OAAC;gCAAK,WAAU;0CAA6C;;;;;;0CAC7D,8OAAC;gCACC,MAAK;gCACL,OAAO;gCACP,UAAU,CAAC,QAAU,kBAAkB,MAAM,MAAM,CAAC,KAAK;gCACzD,aAAY;gCACZ,WAAU;;;;;;;;;;;;kCAId,8OAAC;wBACC,OAAM;wBACN,OAAO;wBACP,UAAU,CAAC,MAAQ,uBAAuB;wBAC1C,KAAK;wBACL,KAAK;;;;;;kCAGP,8OAAC;wBACC,OAAM;wBACN,OAAO;wBACP,UAAU,CAAC,MAAQ,wBAAwB;wBAC3C,KAAK;wBACL,KAAK;wBACL,MAAM;;;;;;;;;;;;;;;;;;AAKhB;AAWA,SAAS,aAAa,EAAE,KAAK,EAAE,KAAK,EAAE,QAAQ,EAAE,GAAG,EAAE,GAAG,EAAE,IAAI,EAAqB;IACjF,qBACE,8OAAC;QAAM,WAAU;;0BACf,8OAAC;gBAAK,WAAU;0BAA8C;;;;;;0BAC9D,8OAAC;gBACC,MAAK;gBACL,OAAO;gBACP,KAAK;gBACL,KAAK;gBACL,MAAM;gBACN,UAAU,CAAC,QACT,SAAS,OAAO,MAAM,MAAM,CAAC,KAAK;gBAEpC,WAAU;;;;;;;;;;;;AAIlB"}},
    {"offset": {"line": 283, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnoldokoye/hotbat/src/components/ui/Badge.tsx"],"sourcesContent":["import { ReactNode } from \"react\";\n\ntype BadgeProps = {\n  children: ReactNode;\n  variant?: \"default\" | \"success\" | \"warning\" | \"danger\";\n  className?: string;\n};\n\n/**\n * Badge renders small status labels with subtle styling.\n */\nexport function Badge({\n  children,\n  variant = \"default\",\n  className = \"\",\n}: BadgeProps) {\n  const styles: Record<typeof variant, string> = {\n    default: \"bg-slate-100 text-slate-800 dark:bg-slate-800 dark:text-slate-100\",\n    success: \"bg-emerald-100 text-emerald-800 dark:bg-emerald-900/50 dark:text-emerald-100\",\n    warning: \"bg-amber-100 text-amber-800 dark:bg-amber-900/60 dark:text-amber-100\",\n    danger: \"bg-rose-100 text-rose-800 dark:bg-rose-900/50 dark:text-rose-100\",\n  };\n\n  return (\n    <span\n      className={`inline-flex items-center rounded-full px-2.5 py-1 text-xs font-semibold ${styles[variant]} ${className}`}\n    >\n      {children}\n    </span>\n  );\n}\n"],"names":[],"mappings":";;;;;;AAWO,SAAS,MAAM,EACpB,QAAQ,EACR,UAAU,SAAS,EACnB,YAAY,EAAE,EACH;IACX,MAAM,SAAyC;QAC7C,SAAS;QACT,SAAS;QACT,SAAS;QACT,QAAQ;IACV;IAEA,qBACE,8OAAC;QACC,WAAW,CAAC,wEAAwE,EAAE,MAAM,CAAC,QAAQ,CAAC,CAAC,EAAE,WAAW;kBAEnH;;;;;;AAGP"}},
    {"offset": {"line": 309, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnoldokoye/hotbat/src/features/today-games/components/TodayGameCard.tsx"],"sourcesContent":["import Image from \"next/image\";\nimport { Badge } from \"@/components/ui/Badge\";\nimport { Card, CardBody, CardHeader } from \"@/components/ui/Card\";\nimport { TodayGame } from \"../mock/todayGamesData\";\n\ntype TodayGameCardProps = {\n  game: TodayGame;\n};\n\n/**\n * TodayGameCard renders a single game with HR context.\n */\nexport function TodayGameCard({ game }: TodayGameCardProps) {\n  const hrFriendly = game.parkHrFactor > 1.1;\n  return (\n    <Card dataTestId=\"today-game-card\">\n      <CardHeader>\n        <div className=\"flex items-center gap-3\">\n          <TeamBadge name={game.awayTeam} logoUrl={game.awayTeamLogoUrl} />\n          <div className=\"text-sm font-semibold text-slate-900 dark:text-slate-50\">\n            {game.awayTeam} @ {game.homeTeam}\n          </div>\n          <TeamBadge name={game.homeTeam} logoUrl={game.homeTeamLogoUrl} />\n        </div>\n        <div className=\"flex items-center gap-2\">\n          <Badge variant={hrFriendly ? \"success\" : \"default\"}>\n            Park HR factor {game.parkHrFactor.toFixed(2)}\n          </Badge>\n          <Badge variant={game.hotBatScore >= 75 ? \"success\" : game.hotBatScore >= 60 ? \"warning\" : \"default\"}>\n            HotBat {game.hotBatScore}\n          </Badge>\n        </div>\n      </CardHeader>\n      <CardBody className=\"space-y-3\">\n        <div className=\"flex flex-wrap items-center gap-2 text-sm text-slate-700 dark:text-slate-200\">\n          <span>{game.startTimeLocal}</span>\n          <span className=\"text-slate-400\">•</span>\n          <span>{game.parkName}</span>\n        </div>\n\n        <div className=\"grid gap-2 text-sm text-slate-800 dark:text-slate-100\">\n          <div className=\"flex flex-wrap items-center justify-between gap-2 rounded-lg border border-slate-100 bg-slate-50 px-3 py-2 dark:border-slate-800 dark:bg-slate-900\">\n            <span className=\"text-slate-600 dark:text-slate-300\">Projected HR (Away)</span>\n            <span className=\"font-semibold\">\n              {game.awayProjectedHrMin} – {game.awayProjectedHrMax}\n            </span>\n          </div>\n          <div className=\"flex flex-wrap items-center justify-between gap-2 rounded-lg border border-slate-100 bg-slate-50 px-3 py-2 dark:border-slate-800 dark:bg-slate-900\">\n            <span className=\"text-slate-600 dark:text-slate-300\">Projected HR (Home)</span>\n            <span className=\"font-semibold\">\n              {game.homeProjectedHrMin} – {game.homeProjectedHrMax}\n            </span>\n          </div>\n        </div>\n\n        <div className=\"rounded-lg border border-slate-100 bg-slate-50 px-3 py-2 dark:border-slate-800 dark:bg-slate-900\">\n          <p className=\"text-xs font-semibold uppercase tracking-wide text-slate-500 dark:text-slate-400\">\n            Probable Pitchers\n          </p>\n          <div className=\"mt-2 grid gap-2 text-sm\">\n            <PitcherRow\n              label=\"Away SP\"\n              name={game.awayStartingPitcher?.name ?? \"TBD\"}\n              throws={game.awayStartingPitcher?.throws ?? \"R\"}\n              hrPer9={game.awayStartingPitcher?.hrPer9 ?? 0}\n              era={game.awayStartingPitcher?.era ?? 0}\n            />\n            <PitcherRow\n              label=\"Home SP\"\n              name={game.homeStartingPitcher?.name ?? \"TBD\"}\n              throws={game.homeStartingPitcher?.throws ?? \"R\"}\n              hrPer9={game.homeStartingPitcher?.hrPer9 ?? 0}\n              era={game.homeStartingPitcher?.era ?? 0}\n            />\n          </div>\n        </div>\n      </CardBody>\n    </Card>\n  );\n}\n\ntype PitcherRowProps = {\n  label: string;\n  name: string;\n  throws: \"L\" | \"R\";\n  hrPer9: number;\n  era: number;\n};\n\nfunction PitcherRow({ label, name, throws, hrPer9, era }: PitcherRowProps) {\n  return (\n    <div className=\"flex flex-wrap items-center justify-between gap-2 text-slate-800 dark:text-slate-200\">\n      <div className=\"flex items-center gap-2\">\n        <Badge variant=\"default\" className=\"bg-slate-200 text-slate-800 dark:bg-slate-800 dark:text-slate-100\">\n          {label}\n        </Badge>\n        <span className=\"font-semibold\">{name}</span>\n        <span className=\"text-xs text-slate-500 dark:text-slate-400\">Throws {throws}</span>\n      </div>\n      <div className=\"flex items-center gap-3 text-xs\">\n        <span>HR/9 {hrPer9.toFixed(2)}</span>\n        <span className=\"text-slate-400\">•</span>\n        <span>ERA {era.toFixed(2)}</span>\n      </div>\n    </div>\n  );\n}\n\ntype TeamBadgeProps = {\n  name: string;\n  logoUrl?: string;\n};\n\nfunction TeamBadge({ name, logoUrl }: TeamBadgeProps) {\n  const initials = name\n    .split(\" \")\n    .map((part) => part[0])\n    .join(\"\")\n    .slice(0, 2)\n    .toUpperCase();\n\n  if (logoUrl) {\n    return (\n      <div className=\"flex h-9 w-9 items-center justify-center overflow-hidden rounded-full bg-white shadow-sm\">\n        <Image\n          src={logoUrl}\n          alt={name}\n          width={36}\n          height={36}\n          className=\"h-full w-full object-cover\"\n        />\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"flex h-9 w-9 items-center justify-center rounded-full bg-slate-900 text-xs font-semibold text-white shadow-sm dark:bg-slate-100 dark:text-slate-900\">\n      {initials}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 684, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnoldokoye/hotbat/src/features/today-games/components/TodayGamesList.tsx"],"sourcesContent":["import { TodayGame } from \"../mock/todayGamesData\";\nimport { TodayGameCard } from \"./TodayGameCard\";\n\ntype TodayGamesListProps = {\n  games: TodayGame[];\n};\n\n/**\n * TodayGamesList renders a responsive grid of game cards.\n */\nexport function TodayGamesList({ games }: TodayGamesListProps) {\n  if (games.length === 0) {\n    return (\n      <div className=\"rounded-xl border border-dashed border-slate-300 bg-white/60 px-6 py-10 text-center text-sm font-semibold text-slate-500 dark:border-slate-700 dark:bg-slate-900/60 dark:text-slate-200\">\n        No games matching filters.\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"grid gap-4 md:grid-cols-2 lg:grid-cols-3\" data-testid=\"today-games-list\">\n      {games.map((game) => (\n        <TodayGameCard key={game.id} game={game} />\n      ))}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AACA;;;AASO,SAAS,eAAe,EAAE,KAAK,EAAuB;IAC3D,IAAI,MAAM,MAAM,KAAK,GAAG;QACtB,qBACE,8OAAC;YAAI,WAAU;sBAA0L;;;;;;IAI7M;IAEA,qBACE,8OAAC;QAAI,WAAU;QAA2C,eAAY;kBACnE,MAAM,GAAG,CAAC,CAAC,qBACV,8OAAC,kLAAa;gBAAe,MAAM;eAAf,KAAK,EAAE;;;;;;;;;;AAInC"}},
    {"offset": {"line": 723, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnoldokoye/hotbat/src/features/today-games/components/TodayGamesSummaryBar.tsx"],"sourcesContent":["import { Card, CardBody } from \"@/components/ui/Card\";\nimport { TodayGame } from \"../mock/todayGamesData\";\n\ntype TodayGamesSummaryBarProps = {\n  games: TodayGame[];\n};\n\n/**\n * TodayGamesSummaryBar shows quick stats about the filtered games.\n */\nexport function TodayGamesSummaryBar({ games }: TodayGamesSummaryBarProps) {\n  const gameCount = games.length;\n  const avgParkHrFactor =\n    games.length > 0\n      ? games.reduce((sum, game) => sum + game.parkHrFactor, 0) / games.length\n      : 0;\n  const highScoreCount = games.filter((game) => game.hotBatScore >= 70).length;\n  const topGame = games.reduce<TodayGame | null>(\n    (best, game) => (best === null || game.hotBatScore > best.hotBatScore ? game : best),\n    null,\n  );\n\n  return (\n    <Card>\n      <CardBody className=\"grid gap-3 sm:grid-cols-2 lg:grid-cols-4\">\n        <Metric label=\"Games\" value={gameCount.toString()} />\n        <Metric label=\"Avg Park HR Factor\" value={avgParkHrFactor.toFixed(2)} />\n        <Metric label=\"High HotBat (≥70)\" value={highScoreCount.toString()} />\n        <Metric\n          label=\"Top HR matchup\"\n          value={topGame ? `${topGame.awayTeam} @ ${topGame.homeTeam}` : \"—\"}\n          subValue={topGame ? `Score: ${topGame.hotBatScore}` : undefined}\n        />\n      </CardBody>\n    </Card>\n  );\n}\n\ntype MetricProps = {\n  label: string;\n  value: string;\n  subValue?: string;\n};\n\nfunction Metric({ label, value, subValue }: MetricProps) {\n  return (\n    <div className=\"rounded-lg border border-slate-100 bg-slate-50 px-3 py-3 text-slate-800 dark:border-slate-800 dark:bg-slate-900 dark:text-slate-100\">\n      <p className=\"text-xs font-semibold uppercase tracking-wide text-slate-500 dark:text-slate-400\">\n        {label}\n      </p>\n      <p className=\"text-lg font-semibold\">{value}</p>\n      {subValue ? <p className=\"text-xs text-slate-500 dark:text-slate-400\">{subValue}</p> : null}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;;;AAUO,SAAS,qBAAqB,EAAE,KAAK,EAA6B;IACvE,MAAM,YAAY,MAAM,MAAM;IAC9B,MAAM,kBACJ,MAAM,MAAM,GAAG,IACX,MAAM,MAAM,CAAC,CAAC,KAAK,OAAS,MAAM,KAAK,YAAY,EAAE,KAAK,MAAM,MAAM,GACtE;IACN,MAAM,iBAAiB,MAAM,MAAM,CAAC,CAAC,OAAS,KAAK,WAAW,IAAI,IAAI,MAAM;IAC5E,MAAM,UAAU,MAAM,MAAM,CAC1B,CAAC,MAAM,OAAU,SAAS,QAAQ,KAAK,WAAW,GAAG,KAAK,WAAW,GAAG,OAAO,MAC/E;IAGF,qBACE,8OAAC,wIAAI;kBACH,cAAA,8OAAC,4IAAQ;YAAC,WAAU;;8BAClB,8OAAC;oBAAO,OAAM;oBAAQ,OAAO,UAAU,QAAQ;;;;;;8BAC/C,8OAAC;oBAAO,OAAM;oBAAqB,OAAO,gBAAgB,OAAO,CAAC;;;;;;8BAClE,8OAAC;oBAAO,OAAM;oBAAoB,OAAO,eAAe,QAAQ;;;;;;8BAChE,8OAAC;oBACC,OAAM;oBACN,OAAO,UAAU,GAAG,QAAQ,QAAQ,CAAC,GAAG,EAAE,QAAQ,QAAQ,EAAE,GAAG;oBAC/D,UAAU,UAAU,CAAC,OAAO,EAAE,QAAQ,WAAW,EAAE,GAAG;;;;;;;;;;;;;;;;;AAKhE;AAQA,SAAS,OAAO,EAAE,KAAK,EAAE,KAAK,EAAE,QAAQ,EAAe;IACrD,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAE,WAAU;0BACV;;;;;;0BAEH,8OAAC;gBAAE,WAAU;0BAAyB;;;;;;YACrC,yBAAW,8OAAC;gBAAE,WAAU;0BAA8C;;;;;uBAAgB;;;;;;;AAG7F"}},
    {"offset": {"line": 824, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnoldokoye/hotbat/src/features/today-games/TodayGamesPage.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useMemo, useRef, useState } from \"react\";\nimport { fetchTodayGames, type TodayGamesData } from \"@/lib/api/todayGames\";\nimport { useFavorites } from \"@/context/FavoritesContext\";\nimport { PageContainer } from \"@/components/ui/PageContainer\";\nimport { TodayGamesHeader } from \"./components/TodayGamesHeader\";\nimport { TodayGamesList } from \"./components/TodayGamesList\";\nimport { TodayGamesSummaryBar } from \"./components/TodayGamesSummaryBar\";\n\n/**\n * TodayGamesPage renders HR-focused context for today’s matchups.\n */\nexport function TodayGamesPage({ initialData }: { initialData: TodayGamesData }) {\n  const { defaults, setDefaults } = useFavorites();\n\n  const [gamesData, setGamesData] = useState(initialData);\n  const [selectedDate, setSelectedDate] = useState(\n    defaults.todayGamesDate ?? initialData.date,\n  );\n  const [teamQuery, setTeamQuery] = useState(\"\");\n  const [minHotBatScore, setMinHotBatScore] = useState(0);\n  const [minParkHrFactor, setMinParkHrFactor] = useState(0);\n  const [latestError, setLatestError] = useState(\"\");\n  const [isLoadingLatest, setIsLoadingLatest] = useState(false);\n  const hasRefetchedOnce = useRef(false);\n\n  const filteredGames = useMemo(\n    () =>\n      gamesData.games\n        .filter((game) => game.date?.slice(0, 10) === selectedDate)\n        .filter((game) =>\n          teamQuery\n            ? `${game.homeTeam} ${game.awayTeam}`.toLowerCase().includes(teamQuery.toLowerCase())\n            : true,\n        )\n        .filter((game) => game.hotBatScore >= minHotBatScore)\n        .filter((game) => game.parkHrFactor >= minParkHrFactor),\n    [gamesData.games, minHotBatScore, minParkHrFactor, selectedDate, teamQuery],\n  );\n\n  const displayGames = filteredGames.length > 0 ? filteredGames : gamesData.games;\n  const hasGamesForDate = displayGames.length > 0;\n\n  useEffect(() => {\n    if (gamesData.games.length === 0) return;\n    const hasDate = gamesData.games.some(\n      (game) => game.date?.slice(0, 10) === selectedDate,\n    );\n    if (!hasDate) {\n      const firstDate = gamesData.games[0].date?.slice(0, 10);\n      if (firstDate) {\n        setSelectedDate(firstDate);\n      }\n    }\n  }, [gamesData.games, selectedDate]);\n\n  useEffect(() => {\n    setDefaults((prev) => ({\n      ...prev,\n      todayGamesDate: selectedDate,\n    }));\n  }, [selectedDate, setDefaults]);\n\n  useEffect(() => {\n    const maybeRefetch = async () => {\n      if (hasRefetchedOnce.current) return;\n      if (gamesData.games.length > 0) return;\n      hasRefetchedOnce.current = true;\n      try {\n        const refreshed = await fetchTodayGames(selectedDate);\n        setGamesData(refreshed);\n      } catch (error) {\n        console.error(\"today games initial refetch failed\", error);\n      }\n    };\n    void maybeRefetch();\n  }, [gamesData.games.length, selectedDate]);\n\n  const handleLoadLatestSlate = async () => {\n    setLatestError(\"\");\n    setIsLoadingLatest(true);\n    try {\n      const res = await fetch(\"/api/slates/latest\");\n      if (!res.ok) throw new Error(\"latest slate request failed\");\n      const body = (await res.json()) as { latestDate: string | null };\n      if (!body.latestDate) {\n        setLatestError(\"No historical slates available yet.\");\n        return;\n      }\n      const latest = await fetchTodayGames(body.latestDate);\n      setGamesData(latest);\n      setSelectedDate(body.latestDate);\n    } catch (error) {\n      console.error(\"load latest slate error\", error);\n      setLatestError(\"Unable to load the latest slate right now.\");\n    } finally {\n      setIsLoadingLatest(false);\n    }\n  };\n\n  return (\n    <PageContainer\n      className=\"flex flex-col gap-5 py-6\"\n      dataTestId=\"today-games\"\n    >\n      <TodayGamesHeader\n        selectedDate={selectedDate}\n        onDateChange={setSelectedDate}\n        teamQuery={teamQuery}\n        onTeamQueryChange={setTeamQuery}\n        minHotBatScore={minHotBatScore}\n        onMinHotBatScoreChange={setMinHotBatScore}\n        minParkHrFactor={minParkHrFactor}\n        onMinParkHrFactorChange={setMinParkHrFactor}\n        gamesCount={displayGames.length}\n      />\n\n      {hasGamesForDate ? (\n        <>\n          <TodayGamesSummaryBar games={displayGames} />\n          <TodayGamesList games={displayGames} />\n        </>\n      ) : (\n        <div\n          className=\"flex flex-col items-start gap-3 rounded-xl border border-dashed border-slate-300 bg-white/60 px-6 py-6 text-slate-700 dark:border-slate-700 dark:bg-slate-900/60 dark:text-slate-200\"\n          data-testid=\"today-empty-state\"\n        >\n          <p className=\"text-sm font-semibold\">No games scheduled for this date.</p>\n          <div className=\"flex flex-wrap items-center gap-3\">\n            <button\n              type=\"button\"\n              className=\"inline-flex items-center justify-center rounded-lg bg-slate-900 px-3 py-2 text-sm font-semibold text-white shadow-sm transition hover:bg-slate-800 disabled:cursor-not-allowed disabled:opacity-60 dark:bg-slate-100 dark:text-slate-900 dark:hover:bg-white\"\n              onClick={handleLoadLatestSlate}\n              disabled={isLoadingLatest}\n              data-testid=\"load-latest-slate\"\n            >\n              {isLoadingLatest ? \"Loading...\" : \"Load last available slate\"}\n            </button>\n            {latestError ? (\n              <span className=\"text-sm text-rose-500 dark:text-rose-300\">{latestError}</span>\n            ) : null}\n          </div>\n        </div>\n      )}\n    </PageContainer>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}