{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 30, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnoldokoye/hotbat/src/lib/baseline/fetchBaselineHrPicks.ts"],"sourcesContent":["import fs from \"node:fs/promises\";\nimport path from \"node:path\";\n\nimport type { CompareHRPick, Handedness, HrPicksBaselineResponse } from \"@/features/hr-picks/types\";\n\ntype PlayerGameBaselineRow = {\n  player_id: string;\n  player_name: string;\n  game_date: string;\n  park_id: string;\n  opposing_pitcher_id: string;\n  hr_rate_last_50: number;\n  season_hr_rate: number;\n  season_hr: number;\n  season_pa: number;\n  pitcher_hr_allowed_rate_last_50: number;\n  park_hr_factor: number;\n  expected_pa: number;\n  baseline_hr_score: number;\n};\n\nconst BASELINE_PUBLIC_CSV_PATH = path.join(\n  process.cwd(),\n  \"public\",\n  \"data\",\n  \"player_game_baseline.csv\",\n);\n\nconst PLAYER_REGISTRY_CSV_PATH = path.join(process.cwd(), \"scripts\", \"ml\", \"data\", \"player_registry.csv\");\nconst PITCHER_FEATURES_CSV_PATH = path.join(\n  process.cwd(),\n  \"scripts\",\n  \"ml\",\n  \"data\",\n  \"features_v1\",\n  \"pitcher_daily_features.csv\",\n);\n\nconst GAMELOGS_DIR = path.join(process.cwd(), \"data_sources\", \"NEW_DATA_SETS\", \"2020-25 GAMELOGS\");\nconst BALLPARKS_CSV_PATH = path.join(GAMELOGS_DIR, \"ballparks.csv\");\nconst TEAMS_CSV_PATH = path.join(GAMELOGS_DIR, \"teams.csv\");\nconst BIOFILE_CSV_PATH = path.join(GAMELOGS_DIR, \"biofile (1)\", \"biofile.csv\");\n\nconst DAILY_LOGS_DIR = path.join(process.cwd(), \"data_sources\", \"NEW_DATA_SETS\", \"2020-25 DAILY LOGS\");\n\nconst PICK_SCORE_SCALE = Number(process.env.HOTBAT_PICK_SCORE_SCALE ?? \"200\");\nconst PICKS_LIMIT = Number(process.env.HOTBAT_HR_PICKS_LIMIT ?? \"25\");\n\nlet cached:\n  | {\n      mtimeMs: number;\n      rows: PlayerGameBaselineRow[];\n      dates: string[];\n    }\n  | null = null;\n\nlet cachedRegistry:\n  | {\n      mtimeMs: number;\n      byId: Map<string, string>;\n    }\n  | null = null;\n\nlet cachedBallparks:\n  | {\n      mtimeMs: number;\n      byParkId: Map<string, string>;\n    }\n  | null = null;\n\ntype TeamEra = { first: number; last: number; name: string };\nlet cachedTeams:\n  | {\n      mtimeMs: number;\n      byTeamId: Map<string, TeamEra[]>;\n    }\n  | null = null;\n\nlet cachedBio:\n  | {\n      mtimeMs: number;\n      byPlayerId: Map<\n        string,\n        {\n          bats: Handedness | null;\n          throws: \"L\" | \"R\" | null;\n        }\n      >;\n    }\n  | null = null;\n\nlet cachedPitcherFeatures:\n  | {\n      mtimeMs: number;\n      byKey: Map<string, { hrAllowedRateLast50: number; cumHrAllowed: number }>;\n    }\n  | null = null;\n\nconst cachedBattingTeamsByYear = new Map<\n  number,\n  { mtimeMs: number; map: Map<string, { teamId: string; oppId: string }> }\n>();\n\nfunction parseNumber(value: string): number {\n  const n = Number(value);\n  return Number.isFinite(n) ? n : 0;\n}\n\nfunction splitCsvLine(line: string): string[] {\n  const out: string[] = [];\n  let cur = \"\";\n  let inQuotes = false;\n\n  for (let i = 0; i < line.length; i += 1) {\n    const ch = line[i];\n\n    if (ch === '\"') {\n      if (inQuotes && line[i + 1] === '\"') {\n        cur += '\"';\n        i += 1;\n        continue;\n      }\n      inQuotes = !inQuotes;\n      continue;\n    }\n\n    if (ch === \",\" && !inQuotes) {\n      out.push(cur);\n      cur = \"\";\n      continue;\n    }\n\n    cur += ch;\n  }\n\n  out.push(cur);\n  return out;\n}\n\nfunction parseIsoDate(value: string): string {\n  const v = value.trim();\n  if (v.length === 10 && v[4] === \"-\" && v[7] === \"-\") return v;\n  if (v.length === 8 && /^\\d{8}$/.test(v)) return `${v.slice(0, 4)}-${v.slice(4, 6)}-${v.slice(6, 8)}`;\n  return v;\n}\n\nfunction parseStarttimeMinutes(value: string): number | null {\n  const v = value.trim().toUpperCase();\n  const m = /^(\\d{1,2}):(\\d{2})(AM|PM)$/.exec(v);\n  if (!m) return null;\n  let hour = Number(m[1]);\n  const minute = Number(m[2]);\n  const ampm = m[3];\n  if (!Number.isFinite(hour) || !Number.isFinite(minute)) return null;\n  if (hour === 12) hour = 0;\n  if (ampm === \"PM\") hour += 12;\n  return hour * 60 + minute;\n}\n\nfunction normalizeHandedness(value: string): Handedness | null {\n  const v = value.trim().toUpperCase();\n  if (v === \"L\" || v === \"R\" || v === \"B\") return v;\n  return null;\n}\n\nfunction resolveMatchupAdvantage(batterHand: Handedness, pitcherHand: \"L\" | \"R\" | null) {\n  if (!pitcherHand) return \"neutral\";\n  if (batterHand === \"B\") return \"neutral\";\n  return batterHand === pitcherHand ? \"negative\" : \"positive\";\n}\n\nfunction buildTopReasons(pick: CompareHRPick): string[] {\n  const reasons: string[] = [];\n\n  if (pick.matchup_advantage === \"positive\" && pick.opposing_pitcher_hand) {\n    reasons.push(`Platoon advantage (${pick.batter_hand} vs ${pick.opposing_pitcher_hand})`);\n  } else if (pick.matchup_advantage === \"negative\" && pick.opposing_pitcher_hand) {\n    reasons.push(`Platoon disadvantage (${pick.batter_hand} vs ${pick.opposing_pitcher_hand})`);\n  }\n\n  if (pick.hr_rate_last_50 >= 0.1) {\n    reasons.push(`Strong HR/PA (${pick.hr_rate_last_50.toFixed(3)})`);\n  } else if (pick.hr_rate_last_50 > 0) {\n    reasons.push(`Recent HR/PA (${pick.hr_rate_last_50.toFixed(3)})`);\n  }\n\n  if (pick.season_hr_total > 0 && reasons.length < 3) {\n    reasons.push(`Season HR total ${pick.season_hr_total}`);\n  }\n\n  if (pick.pitcher_hr_rate_allowed !== null && reasons.length < 3) {\n    if (pick.pitcher_hr_rate_allowed >= 0.1) {\n      reasons.push(\n        `Pitcher HR allowed trend (${pick.pitcher_hr_rate_allowed.toFixed(3)})`,\n      );\n    } else if (pick.pitcher_hr_rate_allowed > 0) {\n      reasons.push(\n        `Pitcher HR allowed (${pick.pitcher_hr_rate_allowed.toFixed(3)})`,\n      );\n    }\n  }\n\n  if (pick.park_hr_factor > 1.05 && reasons.length < 3) {\n    reasons.push(`HR-friendly park at ${pick.park_name}`);\n  } else if (pick.park_hr_factor > 0 && pick.park_hr_factor < 0.95 && reasons.length < 3) {\n    reasons.push(`HR-suppressing park at ${pick.park_name}`);\n  }\n\n  if (!reasons.length) {\n    reasons.push(`Baseline HR score ${pick.baseline_score.toFixed(3)}`);\n  }\n\n  return reasons.slice(0, 3);\n}\n\nfunction parseBaselineCsv(csvText: string): PlayerGameBaselineRow[] {\n  const text = csvText.replace(/^\\uFEFF/, \"\").trim();\n  if (!text) return [];\n\n  const lines = text.split(/\\r?\\n/).filter(Boolean);\n  if (lines.length < 2) return [];\n\n  const header = splitCsvLine(lines[0]).map((h) => h.trim());\n  const idx = new Map(header.map((h, i) => [h, i]));\n\n  function getCell(cells: string[], key: string): string {\n    const i = idx.get(key);\n    return i === undefined ? \"\" : (cells[i] ?? \"\").trim();\n  }\n\n  const rows: PlayerGameBaselineRow[] = [];\n  for (const line of lines.slice(1)) {\n    const cells = splitCsvLine(line);\n\n    const player_id = getCell(cells, \"player_id\");\n    const player_name = getCell(cells, \"player_name\") || player_id;\n    const game_date = getCell(cells, \"game_date\");\n    if (!player_id || !game_date) continue;\n\n    rows.push({\n      player_id,\n      player_name,\n      game_date,\n      park_id: getCell(cells, \"park_id\"),\n      opposing_pitcher_id: getCell(cells, \"opposing_pitcher_id\"),\n      hr_rate_last_50: parseNumber(getCell(cells, \"hr_rate_last_50\")),\n      season_hr_rate: parseNumber(getCell(cells, \"season_hr_rate\")),\n      season_hr: parseNumber(getCell(cells, \"season_hr\")),\n      season_pa: parseNumber(getCell(cells, \"season_pa\")),\n      pitcher_hr_allowed_rate_last_50: parseNumber(\n        getCell(cells, \"pitcher_hr_allowed_rate_last_50\"),\n      ),\n      park_hr_factor: parseNumber(getCell(cells, \"park_hr_factor\")),\n      expected_pa: parseNumber(getCell(cells, \"expected_pa\")),\n      baseline_hr_score: parseNumber(getCell(cells, \"baseline_hr_score\")),\n    });\n  }\n\n  return rows;\n}\n\nasync function loadRegistry(): Promise<Map<string, string>> {\n  const stat = await fs.stat(PLAYER_REGISTRY_CSV_PATH);\n  if (cachedRegistry && cachedRegistry.mtimeMs === stat.mtimeMs) return cachedRegistry.byId;\n\n  const csvText = await fs.readFile(PLAYER_REGISTRY_CSV_PATH, \"utf8\");\n  const text = csvText.replace(/^\\uFEFF/, \"\").trim();\n  const lines = text.split(/\\r?\\n/).filter(Boolean);\n  if (lines.length < 2) throw new Error(`Player registry is empty: ${PLAYER_REGISTRY_CSV_PATH}`);\n  const header = splitCsvLine(lines[0]).map((h) => h.trim());\n  const idx = new Map(header.map((h, i) => [h, i]));\n\n  function cell(cells: string[], key: string): string {\n    const i = idx.get(key);\n    return i === undefined ? \"\" : (cells[i] ?? \"\").trim();\n  }\n\n  const byId = new Map<string, string>();\n  for (const line of lines.slice(1)) {\n    const cells = splitCsvLine(line);\n    const playerId = cell(cells, \"player_id\");\n    const fullName = cell(cells, \"full_name\") || `${cell(cells, \"first_name\")} ${cell(cells, \"last_name\")}`.trim();\n    if (!playerId || !fullName) continue;\n    if (byId.has(playerId) && byId.get(playerId) !== fullName) {\n      throw new Error(`Conflicting full_name for player_id=${playerId} in player_registry.csv`);\n    }\n    byId.set(playerId, fullName);\n  }\n\n  cachedRegistry = { mtimeMs: stat.mtimeMs, byId };\n  return byId;\n}\n\nasync function loadBallparks(): Promise<Map<string, string>> {\n  const stat = await fs.stat(BALLPARKS_CSV_PATH);\n  if (cachedBallparks && cachedBallparks.mtimeMs === stat.mtimeMs) return cachedBallparks.byParkId;\n\n  const csvText = await fs.readFile(BALLPARKS_CSV_PATH, \"utf8\");\n  const text = csvText.replace(/^\\uFEFF/, \"\").trim();\n  const lines = text.split(/\\r?\\n/).filter(Boolean);\n  if (lines.length < 2) throw new Error(`ballparks.csv is empty: ${BALLPARKS_CSV_PATH}`);\n\n  const header = splitCsvLine(lines[0]).map((h) => h.trim().toUpperCase());\n  const idx = new Map(header.map((h, i) => [h, i]));\n\n  function cell(cells: string[], key: string): string {\n    const i = idx.get(key);\n    return i === undefined ? \"\" : (cells[i] ?? \"\").trim();\n  }\n\n  const byParkId = new Map<string, string>();\n  for (const line of lines.slice(1)) {\n    const cells = splitCsvLine(line);\n    const parkId = cell(cells, \"PARKID\");\n    const name = cell(cells, \"NAME\");\n    if (!parkId || !name) continue;\n    if (!byParkId.has(parkId)) byParkId.set(parkId, name);\n  }\n\n  cachedBallparks = { mtimeMs: stat.mtimeMs, byParkId };\n  return byParkId;\n}\n\nasync function loadTeams(): Promise<Map<string, TeamEra[]>> {\n  const stat = await fs.stat(TEAMS_CSV_PATH);\n  if (cachedTeams && cachedTeams.mtimeMs === stat.mtimeMs) return cachedTeams.byTeamId;\n\n  const csvText = await fs.readFile(TEAMS_CSV_PATH, \"utf8\");\n  const text = csvText.replace(/^\\uFEFF/, \"\").trim();\n  const lines = text.split(/\\r?\\n/).filter(Boolean);\n  if (lines.length < 2) throw new Error(`teams.csv is empty: ${TEAMS_CSV_PATH}`);\n\n  const header = splitCsvLine(lines[0]).map((h) => h.trim().toUpperCase());\n  const idx = new Map(header.map((h, i) => [h, i]));\n\n  function cell(cells: string[], key: string): string {\n    const i = idx.get(key);\n    return i === undefined ? \"\" : (cells[i] ?? \"\").trim();\n  }\n\n  const byTeamId = new Map<string, TeamEra[]>();\n  for (const line of lines.slice(1)) {\n    const cells = splitCsvLine(line);\n    const team = cell(cells, \"TEAM\");\n    const city = cell(cells, \"CITY\");\n    const nickname = cell(cells, \"NICKNAME\");\n    const first = parseNumber(cell(cells, \"FIRST\"));\n    const last = parseNumber(cell(cells, \"LAST\"));\n    if (!team || !city || !nickname) continue;\n    const era: TeamEra = {\n      first: Number.isFinite(first) && first > 0 ? Math.floor(first) : 0,\n      last: Number.isFinite(last) && last > 0 ? Math.floor(last) : 9999,\n      name: `${city} ${nickname}`,\n    };\n    const list = byTeamId.get(team) ?? [];\n    list.push(era);\n    byTeamId.set(team, list);\n  }\n\n  // Deterministic order: newest eras first (higher `first` wins).\n  for (const [team, eras] of byTeamId.entries()) {\n    eras.sort((a, b) => b.first - a.first);\n    byTeamId.set(team, eras);\n  }\n\n  cachedTeams = { mtimeMs: stat.mtimeMs, byTeamId };\n  return byTeamId;\n}\n\nfunction resolveTeamName(byTeamId: Map<string, TeamEra[]>, teamId: string, year: number): string | null {\n  const eras = byTeamId.get(teamId);\n  if (!eras) return null;\n  for (const era of eras) {\n    if (year >= era.first && year <= era.last) return era.name;\n  }\n  // Fallback: pick the newest known era name.\n  return eras.length ? eras[0].name : null;\n}\n\nasync function loadBioHands(): Promise<\n  Map<string, { bats: Handedness | null; throws: \"L\" | \"R\" | null }>\n> {\n  const stat = await fs.stat(BIOFILE_CSV_PATH);\n  if (cachedBio && cachedBio.mtimeMs === stat.mtimeMs) return cachedBio.byPlayerId;\n\n  const csvText = await fs.readFile(BIOFILE_CSV_PATH, \"utf8\");\n  const text = csvText.replace(/^\\uFEFF/, \"\").trim();\n  const lines = text.split(/\\r?\\n/).filter(Boolean);\n  if (lines.length < 2) throw new Error(`biofile.csv is empty: ${BIOFILE_CSV_PATH}`);\n\n  const header = splitCsvLine(lines[0]).map((h) => h.trim().toUpperCase());\n  const idx = new Map(header.map((h, i) => [h, i]));\n\n  function cell(cells: string[], key: string): string {\n    const i = idx.get(key);\n    return i === undefined ? \"\" : (cells[i] ?? \"\").trim();\n  }\n\n  const byPlayerId = new Map<string, { bats: Handedness | null; throws: \"L\" | \"R\" | null }>();\n  for (const line of lines.slice(1)) {\n    const cells = splitCsvLine(line);\n    const playerId = cell(cells, \"PLAYERID\").replace(/^\"|\"$/g, \"\");\n    if (!playerId) continue;\n    const bats = normalizeHandedness(cell(cells, \"BATS\").replace(/^\"|\"$/g, \"\"));\n    const throwsRaw = cell(cells, \"THROWS\").replace(/^\"|\"$/g, \"\").toUpperCase();\n    const throws = throwsRaw === \"L\" || throwsRaw === \"R\" ? throwsRaw : null;\n    if (!byPlayerId.has(playerId)) byPlayerId.set(playerId, { bats, throws });\n  }\n\n  cachedBio = { mtimeMs: stat.mtimeMs, byPlayerId };\n  return byPlayerId;\n}\n\nasync function loadPitcherFeatures(): Promise<Map<string, { hrAllowedRateLast50: number; cumHrAllowed: number }>> {\n  const stat = await fs.stat(PITCHER_FEATURES_CSV_PATH);\n  if (cachedPitcherFeatures && cachedPitcherFeatures.mtimeMs === stat.mtimeMs) return cachedPitcherFeatures.byKey;\n\n  const csvText = await fs.readFile(PITCHER_FEATURES_CSV_PATH, \"utf8\");\n  const text = csvText.replace(/^\\uFEFF/, \"\").trim();\n  const lines = text.split(/\\r?\\n/).filter(Boolean);\n  if (lines.length < 2) throw new Error(`pitcher_daily_features.csv is empty: ${PITCHER_FEATURES_CSV_PATH}`);\n\n  const header = splitCsvLine(lines[0]).map((h) => h.trim());\n  const idx = new Map(header.map((h, i) => [h, i]));\n\n  function cell(cells: string[], key: string): string {\n    const i = idx.get(key);\n    return i === undefined ? \"\" : (cells[i] ?? \"\").trim();\n  }\n\n  const byKey = new Map<string, { hrAllowedRateLast50: number; cumHrAllowed: number }>();\n  for (const line of lines.slice(1)) {\n    const cells = splitCsvLine(line);\n    const pitcherId = cell(cells, \"pitcher_id\");\n    const date = cell(cells, \"date\");\n    if (!pitcherId || !date) continue;\n    const key = `${pitcherId}|${date}`;\n    byKey.set(key, {\n      hrAllowedRateLast50: parseNumber(cell(cells, \"hr_allowed_rate_last_50\")),\n      cumHrAllowed: parseNumber(cell(cells, \"cum_hr_allowed\")),\n    });\n  }\n\n  cachedPitcherFeatures = { mtimeMs: stat.mtimeMs, byKey };\n  return byKey;\n}\n\nasync function loadBattingTeamsForYear(year: number): Promise<Map<string, { teamId: string; oppId: string }>> {\n  const battingPath = path.join(DAILY_LOGS_DIR, `${year}DAILY_LOGScsvs`, `${year}batting.csv`);\n  const gameinfoPath = path.join(DAILY_LOGS_DIR, `${year}DAILY_LOGScsvs`, `${year}gameinfo.csv`);\n\n  const stat = await fs.stat(battingPath);\n  const cachedYear = cachedBattingTeamsByYear.get(year);\n  if (cachedYear && cachedYear.mtimeMs === stat.mtimeMs) return cachedYear.map;\n\n  const starttimeByGid = new Map<string, number>();\n  try {\n    const gameinfoText = await fs.readFile(gameinfoPath, \"utf8\");\n    const gameinfoLines = gameinfoText.replace(/^\\uFEFF/, \"\").trim().split(/\\r?\\n/).filter(Boolean);\n    if (gameinfoLines.length >= 2) {\n      const header = splitCsvLine(gameinfoLines[0]).map((h) => h.trim());\n      const idx = new Map(header.map((h, i) => [h, i]));\n      function cell(cells: string[], key: string): string {\n        const i = idx.get(key);\n        return i === undefined ? \"\" : (cells[i] ?? \"\").trim();\n      }\n      for (const line of gameinfoLines.slice(1)) {\n        const cells = splitCsvLine(line);\n        const gid = cell(cells, \"gid\");\n        if (!gid) continue;\n        const minutes = parseStarttimeMinutes(cell(cells, \"starttime\"));\n        if (minutes === null) continue;\n        const existing = starttimeByGid.get(gid);\n        starttimeByGid.set(gid, existing === undefined ? minutes : Math.min(existing, minutes));\n      }\n    }\n  } catch {\n    // Optional: starttime is only a deterministic tie-breaker.\n  }\n\n  const csvText = await fs.readFile(battingPath, \"utf8\");\n  const text = csvText.replace(/^\\uFEFF/, \"\").trim();\n  const lines = text.split(/\\r?\\n/).filter(Boolean);\n  if (lines.length < 2) throw new Error(`batting.csv is empty: ${battingPath}`);\n\n  const header = splitCsvLine(lines[0]).map((h) => h.trim());\n  const idx = new Map(header.map((h, i) => [h, i]));\n\n  function cell(cells: string[], key: string): string {\n    const i = idx.get(key);\n    return i === undefined ? \"\" : (cells[i] ?? \"\").trim();\n  }\n\n  type Candidate = { startSort: number; gid: string; teamId: string; oppId: string };\n  const bestByKey = new Map<string, Candidate>();\n\n  for (const line of lines.slice(1)) {\n    const cells = splitCsvLine(line);\n    const gid = cell(cells, \"gid\");\n    const playerId = cell(cells, \"id\");\n    const teamId = cell(cells, \"team\");\n    const oppId = cell(cells, \"opp\");\n    const dateRaw = cell(cells, \"date\");\n    const gametype = cell(cells, \"gametype\");\n    const pa = Number.parseInt(cell(cells, \"b_pa\"), 10);\n\n    if (!gid || !playerId || !teamId || !oppId || !dateRaw) continue;\n    if (gametype && gametype !== \"regular\") continue;\n    if (!Number.isFinite(pa) || pa <= 0) continue;\n\n    const gameDate = parseIsoDate(dateRaw);\n    const key = `${playerId}|${gameDate}`;\n    const startSort = starttimeByGid.get(gid) ?? 10_000;\n    const cand: Candidate = { startSort, gid, teamId, oppId };\n    const existing = bestByKey.get(key);\n    if (!existing) {\n      bestByKey.set(key, cand);\n      continue;\n    }\n    if (cand.startSort < existing.startSort) {\n      bestByKey.set(key, cand);\n      continue;\n    }\n    if (cand.startSort === existing.startSort && cand.gid < existing.gid) {\n      bestByKey.set(key, cand);\n    }\n  }\n\n  const out = new Map<string, { teamId: string; oppId: string }>();\n  for (const [key, cand] of bestByKey.entries()) {\n    out.set(key, { teamId: cand.teamId, oppId: cand.oppId });\n  }\n\n  cachedBattingTeamsByYear.set(year, { mtimeMs: stat.mtimeMs, map: out });\n  return out;\n}\n\nasync function loadBaselineRows(): Promise<{\n  rows: PlayerGameBaselineRow[];\n  dates: string[];\n}> {\n  const stat = await fs.stat(BASELINE_PUBLIC_CSV_PATH);\n  if (cached && cached.mtimeMs === stat.mtimeMs) {\n    return { rows: cached.rows, dates: cached.dates };\n  }\n\n  const csvText = await fs.readFile(BASELINE_PUBLIC_CSV_PATH, \"utf8\");\n  const rows = parseBaselineCsv(csvText);\n  const dates = Array.from(new Set(rows.map((r) => r.game_date))).sort();\n\n  cached = { mtimeMs: stat.mtimeMs, rows, dates };\n  return { rows, dates };\n}\n\nexport async function getLatestBaselineDate(): Promise<string | null> {\n  try {\n    const { dates } = await loadBaselineRows();\n    return dates.length ? dates[dates.length - 1] : null;\n  } catch {\n    return null;\n  }\n}\n\nexport async function fetchBaselineHrPicks(date: string): Promise<HrPicksBaselineResponse> {\n  const { rows, dates } = await loadBaselineRows();\n  const day = rows.filter((r) => r.game_date === date);\n  if (!day.length) return { date, picks: [], availableDates: dates };\n\n  const pickScoreScale = Number.isFinite(PICK_SCORE_SCALE) ? PICK_SCORE_SCALE : 200;\n  const limit = Number.isFinite(PICKS_LIMIT) ? Math.max(1, Math.floor(PICKS_LIMIT)) : 25;\n\n  const sorted = day\n    .slice()\n    .sort((a, b) => {\n      if (b.baseline_hr_score !== a.baseline_hr_score)\n        return b.baseline_hr_score - a.baseline_hr_score;\n      if (b.hr_rate_last_50 !== a.hr_rate_last_50)\n        return b.hr_rate_last_50 - a.hr_rate_last_50;\n      return a.player_id.localeCompare(b.player_id);\n    })\n    .slice(0, limit);\n\n  const years = new Set<number>();\n  for (const r of sorted) {\n    const y = Number.parseInt(r.game_date.slice(0, 4), 10);\n    if (Number.isFinite(y)) years.add(y);\n  }\n\n  const [registry, parks, teams, bio, pitcherFeatures] = await Promise.all([\n    loadRegistry(),\n    loadBallparks(),\n    loadTeams(),\n    loadBioHands(),\n    loadPitcherFeatures(),\n  ]);\n\n  const battingTeams = new Map<string, { teamId: string; oppId: string }>();\n  await Promise.all(\n    Array.from(years).map(async (year) => {\n      try {\n        const map = await loadBattingTeamsForYear(year);\n        for (const [k, v] of map.entries()) battingTeams.set(k, v);\n      } catch {\n        // If batting logs are missing for this year, team_name will fall back to \"Unknown team\".\n      }\n    }),\n  );\n\n  const picks: CompareHRPick[] = sorted.map((row) => {\n    const year = Number.parseInt(row.game_date.slice(0, 4), 10);\n    const teamKey = `${row.player_id}|${row.game_date}`;\n    const teamInfo = battingTeams.get(teamKey);\n\n    const teamName = teamInfo\n      ? resolveTeamName(teams, teamInfo.teamId, Number.isFinite(year) ? year : 0) ??\n        \"Unknown team\"\n      : \"Unknown team\";\n\n    const parkName = parks.get(row.park_id) ?? \"Unknown park\";\n\n    const opposingPitcherName = row.opposing_pitcher_id\n      ? registry.get(row.opposing_pitcher_id) ?? null\n      : null;\n\n    const batterHand = bio.get(row.player_id)?.bats ?? \"B\";\n    const pitcherHand = row.opposing_pitcher_id ? bio.get(row.opposing_pitcher_id)?.throws ?? null : null;\n\n    const matchupAdvantage = resolveMatchupAdvantage(batterHand, pitcherHand);\n\n    const pitcherKey = row.opposing_pitcher_id ? `${row.opposing_pitcher_id}|${row.game_date}` : \"\";\n    const pitcherFeature = pitcherKey ? pitcherFeatures.get(pitcherKey) : undefined;\n\n    const baselineScore = row.baseline_hr_score;\n    const pickScore = Math.round(baselineScore * pickScoreScale);\n\n    const pick: CompareHRPick = {\n      player_id: row.player_id,\n      player_name: row.player_name,\n      team_name: teamName,\n      game_date: row.game_date,\n      park_id: row.park_id,\n      park_name: parkName,\n      pick_score: Number.isFinite(pickScore) ? pickScore : 0,\n      baseline_score: Number.isFinite(baselineScore) ? baselineScore : 0,\n      hr_rate_last_50: Number.isFinite(row.hr_rate_last_50) ? row.hr_rate_last_50 : 0,\n      hr_rate_last_10: null,\n      season_hr_rate: Number.isFinite(row.season_hr_rate) ? row.season_hr_rate : 0,\n      season_hr_total: Number.isFinite(row.season_hr) ? Math.round(row.season_hr) : 0,\n      opposing_pitcher_name: opposingPitcherName,\n      opposing_pitcher_hand: pitcherHand,\n      pitcher_hr_rate_allowed: Number.isFinite(row.pitcher_hr_allowed_rate_last_50)\n        ? row.pitcher_hr_allowed_rate_last_50\n        : null,\n      pitcher_hr_total_allowed: pitcherFeature && Number.isFinite(pitcherFeature.cumHrAllowed)\n        ? Math.round(pitcherFeature.cumHrAllowed)\n        : null,\n      batter_hand: batterHand,\n      matchup_advantage: matchupAdvantage,\n      park_hr_factor: Number.isFinite(row.park_hr_factor) ? row.park_hr_factor : 0,\n      expected_pa: Number.isFinite(row.expected_pa) ? row.expected_pa : 0,\n      score_breakdown: {\n        base_hr_rate: Number.isFinite(row.hr_rate_last_50) ? row.hr_rate_last_50 : 0,\n        park_factor: Number.isFinite(row.park_hr_factor) ? row.park_hr_factor : 0,\n        pitcher_factor: null,\n        expected_pa: Number.isFinite(row.expected_pa) ? row.expected_pa : 0,\n      },\n      top_reasons: [],\n    };\n\n    pick.top_reasons = buildTopReasons(pick);\n    return pick;\n  });\n\n  // Deterministic ordering.\n  picks.sort((a, b) => {\n    if (b.baseline_score !== a.baseline_score) return b.baseline_score - a.baseline_score;\n    if (b.hr_rate_last_50 !== a.hr_rate_last_50) return b.hr_rate_last_50 - a.hr_rate_last_50;\n    return a.player_id.localeCompare(b.player_id);\n  });\n\n  return { date, picks, availableDates: dates };\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 592, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnoldokoye/hotbat/src/features/hr-picks/HrPicksPage.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const HrPicksPage = registerClientReference(\n    function() { throw new Error(\"Attempted to call HrPicksPage() from the server but HrPicksPage is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/features/hr-picks/HrPicksPage.tsx <module evaluation>\",\n    \"HrPicksPage\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,cAAc,IAAA,wQAAuB,EAC9C;IAAa,MAAM,IAAI,MAAM;AAAsO,GACnQ,uEACA","ignoreList":[0]}},
    {"offset": {"line": 606, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnoldokoye/hotbat/src/features/hr-picks/HrPicksPage.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const HrPicksPage = registerClientReference(\n    function() { throw new Error(\"Attempted to call HrPicksPage() from the server but HrPicksPage is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/features/hr-picks/HrPicksPage.tsx\",\n    \"HrPicksPage\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,cAAc,IAAA,wQAAuB,EAC9C;IAAa,MAAM,IAAI,MAAM;AAAsO,GACnQ,mDACA","ignoreList":[0]}},
    {"offset": {"line": 620, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 628, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnoldokoye/hotbat/src/app/picks/page.tsx"],"sourcesContent":["import { fetchBaselineHrPicks, getLatestBaselineDate } from \"@/lib/baseline/fetchBaselineHrPicks\";\nimport { HrPicksPage } from \"@/features/hr-picks/HrPicksPage\";\n\ntype PicksPageProps =\n  | { searchParams?: { date?: string } }\n  | { searchParams?: Promise<{ date?: string }> };\n\nasync function fetchLatestDate(): Promise<string | null> {\n  const baselineLatest = await getLatestBaselineDate();\n  if (baselineLatest) return baselineLatest;\n  return null;\n}\n\nexport default async function PicksPage({ searchParams }: PicksPageProps) {\n  const params =\n    searchParams && typeof (searchParams as Promise<unknown>).then === \"function\"\n      ? await (searchParams as Promise<{ date?: string }>)\n      : (searchParams as { date?: string } | undefined) ?? {};\n\n  const latestDate = await fetchLatestDate();\n  const effectiveDate = params.date ?? latestDate ?? \"\";\n\n  let picksData;\n  try {\n    picksData = await fetchBaselineHrPicks(effectiveDate);\n  } catch (error) {\n    // Leave noisy logging to the server; keep client console clean for expected failures.\n    console.warn(\"hr-picks page fetch warning\", error);\n    picksData = { date: effectiveDate, picks: [], availableDates: [] };\n  }\n\n  return <HrPicksPage initialData={picksData} latestDate={latestDate} />;\n}\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAMA,eAAe;IACb,MAAM,iBAAiB,MAAM,IAAA,uKAAqB;IAClD,IAAI,gBAAgB,OAAO;IAC3B,OAAO;AACT;AAEe,eAAe,UAAU,EAAE,YAAY,EAAkB;IACtE,MAAM,SACJ,gBAAgB,OAAO,AAAC,aAAkC,IAAI,KAAK,aAC/D,MAAO,eACP,AAAC,gBAAkD,CAAC;IAE1D,MAAM,aAAa,MAAM;IACzB,MAAM,gBAAgB,OAAO,IAAI,IAAI,cAAc;IAEnD,IAAI;IACJ,IAAI;QACF,YAAY,MAAM,IAAA,sKAAoB,EAAC;IACzC,EAAE,OAAO,OAAO;QACd,sFAAsF;QACtF,QAAQ,IAAI,CAAC,+BAA+B;QAC5C,YAAY;YAAE,MAAM;YAAe,OAAO,EAAE;YAAE,gBAAgB,EAAE;QAAC;IACnE;IAEA,qBAAO,8OAAC,6JAAW;QAAC,aAAa;QAAW,YAAY;;;;;;AAC1D"}}]
}