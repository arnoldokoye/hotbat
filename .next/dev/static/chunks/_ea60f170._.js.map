{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnoldokoye/hotbat/src/features/hr-picks/components/PickDetailsDrawer.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect } from \"react\";\nimport type { CompareHRPick } from \"../types\";\n\ntype PickDetailsDrawerProps = {\n  pick: CompareHRPick | null;\n  onClose: () => void;\n};\n\nexport function PickDetailsDrawer({ pick, onClose }: PickDetailsDrawerProps) {\n  useEffect(() => {\n    const onEsc = (e: KeyboardEvent) => {\n      if (e.key === \"Escape\") onClose();\n    };\n    window.addEventListener(\"keydown\", onEsc);\n    return () => window.removeEventListener(\"keydown\", onEsc);\n  }, [onClose]);\n\n  if (!pick) return null;\n\n  const fmtPct = (value: number | null, digits = 1) =>\n    typeof value === \"number\" && Number.isFinite(value) ? `${(value * 100).toFixed(digits)}%` : \"—\";\n  const fmtNum = (value: number | null, digits = 3) =>\n    typeof value === \"number\" && Number.isFinite(value) ? value.toFixed(digits) : \"—\";\n  const matchupLabel =\n    pick.matchup_advantage === \"positive\"\n      ? \"Advantage\"\n      : pick.matchup_advantage === \"negative\"\n      ? \"Disadvantage\"\n      : \"Neutral\";\n\n  return (\n    <div\n      data-testid=\"hr-pick-drawer\"\n      className=\"fixed inset-0 z-50 flex items-end justify-center bg-black/40 px-4 py-6 md:items-center\"\n      role=\"dialog\"\n      aria-modal=\"true\"\n    >\n      <div className=\"w-full max-w-lg rounded-lg border border-slate-200 bg-white shadow-xl dark:border-slate-700 dark:bg-slate-900\">\n        <div className=\"flex items-start justify-between border-b border-slate-200 px-4 py-3 dark:border-slate-800\">\n          <div>\n            <p className=\"text-xs uppercase tracking-wide text-slate-500 dark:text-slate-400\">\n              HR Pick Details\n            </p>\n            <p className=\"text-lg font-semibold text-slate-900 dark:text-slate-50\">\n              {pick.player_name} · {pick.team_name}\n            </p>\n          </div>\n          <button\n            type=\"button\"\n            onClick={onClose}\n            className=\"rounded-md px-2 py-1 text-sm text-slate-600 hover:bg-slate-100 dark:text-slate-200 dark:hover:bg-slate-800\"\n          >\n            Close\n          </button>\n        </div>\n        <div className=\"space-y-3 px-4 py-4 text-sm text-slate-700 dark:text-slate-200\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <p className=\"text-xs uppercase tracking-wide text-slate-500 dark:text-slate-400\">\n                Pick Score\n              </p>\n              <p className=\"text-xl font-semibold text-slate-900 dark:text-slate-50\">\n                {pick.pick_score.toLocaleString()}\n              </p>\n            </div>\n            <div className=\"text-right\">\n              <p className=\"text-xs uppercase tracking-wide text-slate-500 dark:text-slate-400\">\n                Baseline Score\n              </p>\n              <p className=\"text-xl font-semibold text-slate-900 dark:text-slate-50\">\n                {pick.baseline_score.toFixed(6)}\n              </p>\n            </div>\n          </div>\n\n          <div>\n            <p className=\"text-xs uppercase tracking-wide text-slate-500 dark:text-slate-400\">\n              Top reasons\n            </p>\n            <ul className=\"mt-1 list-disc space-y-1 pl-5\">\n              {pick.top_reasons.map((reason, idx) => (\n                <li key={`${pick.player_id}-reason-${idx}`}>{reason}</li>\n              ))}\n            </ul>\n          </div>\n\n          <div className=\"rounded-md border border-slate-100 px-3 py-2 text-sm dark:border-slate-800\">\n            <p className=\"text-xs uppercase tracking-wide text-slate-500 dark:text-slate-400\">\n              How calculated\n            </p>\n            <p className=\"mt-1 text-sm text-slate-700 dark:text-slate-200\">\n              <span className=\"font-semibold\">baseline_hr_score</span> ={\" \"}\n              <span className=\"font-mono\">hr_rate_last_50</span> ×{\" \"}\n              <span className=\"font-mono\">park_hr_factor</span> ×{\" \"}\n              <span className=\"font-mono\">expected_pa</span>\n            </p>\n            <p className=\"mt-2 text-xs text-slate-500 dark:text-slate-400\">\n              Pitcher matchup signals are shown for context but are not applied to the baseline score yet.\n            </p>\n          </div>\n\n          <div className=\"grid grid-cols-2 gap-3\">\n            <Detail label=\"Game date\" value={pick.game_date} />\n            <Detail label=\"Park\" value={pick.park_name} />\n            <Detail label=\"Park HR Factor\" value={fmtNum(pick.park_hr_factor, 2)} />\n            <Detail label=\"Expected PA\" value={fmtNum(pick.expected_pa, 1)} />\n            <Detail label=\"Last 50 HR%\" value={fmtPct(pick.hr_rate_last_50)} />\n            <Detail label=\"Season HR%\" value={fmtPct(pick.season_hr_rate)} />\n            <Detail label=\"Season HR total\" value={pick.season_hr_total} />\n            <Detail\n              label=\"Opposing pitcher\"\n              value={\n                pick.opposing_pitcher_name\n                  ? `${pick.opposing_pitcher_name}${pick.opposing_pitcher_hand ? ` (${pick.opposing_pitcher_hand})` : \"\"}`\n                  : \"—\"\n              }\n            />\n            <Detail label=\"Pitcher HR%\" value={fmtPct(pick.pitcher_hr_rate_allowed)} />\n            <Detail\n              label=\"Pitcher HR total\"\n              value={pick.pitcher_hr_total_allowed ?? \"—\"}\n            />\n            <Detail label=\"Batter hand\" value={pick.batter_hand} />\n            <Detail label=\"Matchup\" value={matchupLabel} />\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nfunction Detail({ label, value }: { label: string; value: string | number }) {\n  return (\n    <div className=\"rounded-md border border-slate-100 px-3 py-2 text-sm dark:border-slate-800\">\n      <p className=\"text-xs uppercase tracking-wide text-slate-500 dark:text-slate-400\">{label}</p>\n      <p className=\"font-semibold text-slate-900 dark:text-slate-50\">{value}</p>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 416, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnoldokoye/hotbat/src/features/hr-picks/components/PickComparePanel.tsx"],"sourcesContent":["\"use client\";\n\nimport type { CompareHRPick } from \"../types\";\n\ntype PickComparePanelProps = {\n  picks: CompareHRPick[];\n  onClear: () => void;\n};\n\nexport function PickComparePanel({ picks, onClear }: PickComparePanelProps) {\n  if (!picks.length) return null;\n\n  const fmtPct = (v: number | null, digits = 1) =>\n    typeof v === \"number\" && Number.isFinite(v) ? `${(v * 100).toFixed(digits)}%` : \"—\";\n  const fmtNum = (v: number | null, digits = 3) =>\n    typeof v === \"number\" && Number.isFinite(v) ? v.toFixed(digits) : \"—\";\n  const matchupLabel = (v: CompareHRPick[\"matchup_advantage\"]) =>\n    v === \"positive\" ? \"Advantage\" : v === \"negative\" ? \"Disadvantage\" : \"Neutral\";\n\n  return (\n    <div\n      data-testid=\"hr-picks-compare-panel\"\n      className=\"rounded-lg border border-slate-200 bg-white p-4 shadow-sm dark:border-slate-700 dark:bg-slate-900\"\n    >\n      <div className=\"mb-3 flex items-center justify-between\">\n        <div>\n          <p className=\"text-xs uppercase tracking-wide text-slate-500 dark:text-slate-400\">\n            Compare Picks\n          </p>\n          <p className=\"text-sm text-slate-600 dark:text-slate-300\">Side-by-side signals</p>\n        </div>\n        <button\n          type=\"button\"\n          onClick={onClear}\n          className=\"rounded-md px-3 py-2 text-sm font-medium text-slate-700 hover:bg-slate-100 dark:text-slate-200 dark:hover:bg-slate-800\"\n        >\n          Clear compare\n        </button>\n      </div>\n\n      <div className=\"grid gap-4 md:grid-cols-2\">\n        {picks.map((p) => (\n          <div\n            key={p.player_id}\n            className=\"rounded-md border border-slate-100 p-3 dark:border-slate-800\"\n          >\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-sm font-semibold text-slate-900 dark:text-slate-50\">\n                  {p.player_name}\n                </p>\n                <p className=\"text-xs text-slate-500 dark:text-slate-400\">{p.team_name}</p>\n              </div>\n              <div className=\"text-right\">\n                <p className=\"text-[11px] uppercase tracking-wide text-slate-500 dark:text-slate-400\">\n                  Pick Score\n                </p>\n                <p className=\"text-lg font-semibold text-slate-900 dark:text-slate-50\">\n                  {p.pick_score.toLocaleString()}\n                </p>\n                <p className=\"text-[11px] text-slate-500 dark:text-slate-400\">{p.game_date}</p>\n              </div>\n            </div>\n            <div className=\"mt-3 grid grid-cols-2 gap-2 text-xs text-slate-600 dark:text-slate-300\">\n              <Metric label=\"Last 50 HR%\" value={fmtPct(p.hr_rate_last_50)} />\n              <Metric label=\"Season HR%\" value={fmtPct(p.season_hr_rate)} />\n              <Metric label=\"Season HR\" value={p.season_hr_total} />\n              <Metric label=\"Park\" value={p.park_name} />\n              <Metric\n                label=\"Opp Pitcher\"\n                value={\n                  p.opposing_pitcher_name\n                    ? `${p.opposing_pitcher_name}${p.opposing_pitcher_hand ? ` (${p.opposing_pitcher_hand})` : \"\"}`\n                    : \"—\"\n                }\n              />\n              <Metric label=\"Pitcher HR%\" value={fmtPct(p.pitcher_hr_rate_allowed)} />\n              <Metric label=\"Pitcher HR Total\" value={p.pitcher_hr_total_allowed ?? \"—\"} />\n              <Metric label=\"Matchup\" value={matchupLabel(p.matchup_advantage)} />\n              <Metric label=\"Park HR Factor\" value={fmtNum(p.park_hr_factor, 2)} />\n              <Metric label=\"Exp PA\" value={fmtNum(p.expected_pa, 1)} />\n            </div>\n            <div className=\"mt-3\">\n              <p className=\"text-[11px] uppercase tracking-wide text-slate-500 dark:text-slate-400\">\n                Top reasons\n              </p>\n              <ul className=\"mt-1 list-disc space-y-1 pl-4 text-xs\">\n                {p.top_reasons.slice(0, 2).map((r, idx) => (\n                  <li key={`${p.player_id}-cmp-reason-${idx}`}>{r}</li>\n                ))}\n              </ul>\n            </div>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}\n\nfunction Metric({ label, value }: { label: string; value: string | number }) {\n  return (\n    <div>\n      <p className=\"text-[11px] uppercase tracking-wide text-slate-500 dark:text-slate-400\">\n        {label}\n      </p>\n      <p className=\"font-semibold text-slate-900 dark:text-slate-50\">{value}</p>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 722, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnoldokoye/hotbat/src/features/hr-picks/HrPicksPage.tsx"],"sourcesContent":["\"use client\";\n\nimport { useMemo, useState } from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport type { CompareHRPick, HrPicksBaselineResponse } from \"./types\";\nimport type { CsvDateIndex } from \"@/lib/dataAvailability\";\nimport { PickDetailsDrawer } from \"./components/PickDetailsDrawer\";\nimport { PickComparePanel } from \"./components/PickComparePanel\";\n\ntype HrPicksPageProps = {\n  initialData: HrPicksBaselineResponse;\n  latestDate: string | null;\n  csvIndex: CsvDateIndex;\n  seasonMetadata?: Record<number, { complete?: boolean; covid_season?: boolean }>;\n};\n\nexport function HrPicksPage({ initialData, latestDate, csvIndex, seasonMetadata }: HrPicksPageProps) {\n  const router = useRouter();\n  const seasons = csvIndex.seasons ?? [];\n  const datesBySeason = csvIndex.datesBySeason ?? {};\n\n  const initialDate =\n    initialData.date && csvIndex.dates.includes(initialData.date)\n      ? initialData.date\n      : latestDate || \"\";\n  const [selectedDate, setSelectedDate] = useState(initialDate);\n  const [selectedPick, setSelectedPick] = useState<CompareHRPick | null>(null);\n  const [compareIds, setCompareIds] = useState<string[]>([]);\n\n  const selectedSeason = selectedDate\n    ? Number.parseInt(selectedDate.slice(0, 4), 10)\n    : seasons.length\n    ? seasons[seasons.length - 1]\n    : null;\n\n  const seasonDates = selectedSeason ? datesBySeason[selectedSeason] ?? [] : [];\n\n  const picksById = useMemo(() => {\n    const map = new Map<string, CompareHRPick>();\n    initialData.picks.forEach((p) => map.set(p.player_id, p));\n    return map;\n  }, [initialData.picks]);\n\n  const comparePicks = compareIds\n    .map((id) => picksById.get(id))\n    .filter((p): p is CompareHRPick => Boolean(p));\n\n  const onSubmitDate = (e: React.FormEvent) => {\n    e.preventDefault();\n    if (selectedDate) {\n      router.push(`/picks?date=${selectedDate}`);\n    }\n  };\n\n  const toggleCompare = (playerId: string) => {\n    if (compareIds.includes(playerId)) {\n      setCompareIds(compareIds.filter((id) => id !== playerId));\n      return;\n    }\n    if (compareIds.length >= 2) {\n      // Prevent selecting more than two; ignore the third.\n      return;\n    }\n    setCompareIds([...compareIds, playerId]);\n  };\n\n  const hasPicks = initialData.picks.length > 0;\n\n  const seasonLabel = (season: number) => {\n    const meta = seasonMetadata?.[season];\n    const badges: string[] = [];\n    if (meta?.covid_season) badges.push(\"COVID\");\n    if (meta && meta.complete === false) badges.push(\"Partial\");\n    return badges.length ? `${season} (${badges.join(\", \")})` : `${season}`;\n  };\n\n  return (\n    <main className=\"mx-auto flex max-w-5xl flex-col gap-6 px-4 py-6\">\n      <header className=\"flex flex-col gap-2\">\n        <h1 className=\"text-2xl font-semibold text-slate-900 dark:text-slate-50\">HR Picks</h1>\n        <p className=\"text-sm text-slate-600 dark:text-slate-300\">\n          Ranked, explainable HR candidates for the selected slate.\n        </p>\n        <p className=\"text-xs text-slate-500 dark:text-slate-400\">\n          Historical / ML Data (CSV-backed). Date is the source of truth; season is derived from date.\n        </p>\n        <form className=\"flex flex-wrap items-center gap-3 text-sm\" onSubmit={onSubmitDate}>\n          <label className=\"flex items-center gap-2 text-slate-700 dark:text-slate-200\">\n            <span className=\"text-xs uppercase tracking-wide text-slate-500 dark:text-slate-400\">\n              Season\n            </span>\n            <select\n              name=\"season\"\n              value={selectedSeason ?? \"\"}\n              onChange={(e) => {\n                const next = Number.parseInt(e.target.value, 10);\n                if (!Number.isFinite(next)) {\n                  setSelectedDate(\"\");\n                  return;\n                }\n                const nextDates = datesBySeason[next] ?? [];\n                setSelectedDate(nextDates.length ? nextDates[nextDates.length - 1] : \"\");\n              }}\n              className=\"h-10 rounded-md border border-slate-200 bg-white px-3 text-sm text-slate-800 shadow-sm dark:border-slate-700 dark:bg-slate-900 dark:text-slate-100\"\n              disabled={!seasons.length}\n              data-testid=\"hr-picks-season\"\n            >\n              {seasons.length ? null : <option value=\"\">No seasons</option>}\n              {seasons.map((s) => (\n                <option key={s} value={s}>\n                  {seasonLabel(s)}\n                </option>\n              ))}\n            </select>\n          </label>\n          <label className=\"flex items-center gap-2 text-slate-700 dark:text-slate-200\">\n            <span className=\"text-xs uppercase tracking-wide text-slate-500 dark:text-slate-400\">\n              Date\n            </span>\n            <select\n              name=\"date\"\n              value={selectedDate}\n              onChange={(e) => setSelectedDate(e.target.value)}\n              className=\"h-10 rounded-md border border-slate-200 bg-white px-3 text-sm text-slate-800 shadow-sm dark:border-slate-700 dark:bg-slate-900 dark:text-slate-100\"\n              disabled={!seasonDates.length}\n              data-testid=\"hr-picks-date\"\n            >\n              {seasonDates.length ? null : <option value=\"\">No dates</option>}\n              {seasonDates.map((d) => (\n                <option key={d} value={d}>\n                  {d}\n                </option>\n              ))}\n            </select>\n          </label>\n          <button\n            type=\"submit\"\n            className=\"h-10 rounded-md bg-slate-900 px-3 text-sm font-medium text-white shadow-sm transition hover:bg-slate-800 dark:bg-slate-100 dark:text-slate-900 dark:hover:bg-slate-200\"\n            data-testid=\"hr-picks-load\"\n          >\n            Load Picks\n          </button>\n          <span className=\"text-slate-500 dark:text-slate-400\">\n            {selectedDate ? `Showing ${selectedDate}` : \"No historical slates available yet.\"}\n          </span>\n        </form>\n      </header>\n\n      {comparePicks.length >= 2 && (\n        <PickComparePanel picks={comparePicks} onClear={() => setCompareIds([])} />\n      )}\n\n      {!selectedDate ? (\n        <div\n          data-testid=\"hr-picks-empty-latest\"\n          className=\"rounded-lg border border-slate-200 bg-white p-4 text-sm text-slate-600 shadow-sm dark:border-slate-700 dark:bg-slate-900 dark:text-slate-300\"\n        >\n          No historical slates available yet.\n        </div>\n      ) : hasPicks ? (\n        <section className=\"space-y-3\" data-testid=\"hr-picks-list\">\n          {initialData.picks.map((pick, idx) => {\n            const selected = compareIds.includes(pick.player_id);\n            return (\n              <article\n                key={pick.player_id}\n                data-testid={`hr-pick-card-${pick.player_id}`}\n                className=\"rounded-lg border border-slate-200 bg-white p-4 shadow-sm dark:border-slate-700 dark:bg-slate-900\"\n              >\n                <div className=\"flex items-start justify-between\">\n                  <div className=\"flex items-center gap-3\">\n                    <div className=\"flex h-10 w-10 items-center justify-center rounded-full bg-slate-100 text-sm font-semibold text-slate-700 dark:bg-slate-800 dark:text-slate-100\">\n                      #{idx + 1}\n                    </div>\n                    <div className=\"flex flex-col\">\n                      <p className=\"text-lg font-semibold text-slate-900 dark:text-slate-50\">\n                        {pick.player_name}\n                      </p>\n                      <p className=\"text-sm text-slate-600 dark:text-slate-300\">{pick.team_name}</p>\n                    </div>\n                  </div>\n                  <div className=\"text-right\">\n                    <p className=\"text-xs uppercase tracking-wide text-slate-500 dark:text-slate-400\">\n                      Pick Score\n                    </p>\n                    <p className=\"text-2xl font-semibold text-slate-900 dark:text-slate-50\">\n                      {pick.pick_score.toLocaleString()}\n                    </p>\n                    <p className=\"text-xs text-slate-500 dark:text-slate-400\">{pick.game_date}</p>\n                  </div>\n                </div>\n                <ul className=\"mt-3 list-disc space-y-1 pl-5 text-sm text-slate-700 dark:text-slate-200\">\n                  {pick.top_reasons.map((reason, idx) => (\n                    <li key={`${pick.player_id}-reason-${idx}`}>{reason}</li>\n                  ))}\n                </ul>\n\n                <div className=\"mt-3 grid grid-cols-2 gap-2 text-xs text-slate-600 dark:text-slate-300 sm:grid-cols-4\">\n                  <Metric\n                    label=\"Last 50 HR%\"\n                    value={`${(pick.hr_rate_last_50 * 100).toFixed(1)}%`}\n                  />\n                  <Metric\n                    label=\"Season HR%\"\n                    value={`${(pick.season_hr_rate * 100).toFixed(1)}%`}\n                  />\n                  <Metric label=\"Season HR\" value={pick.season_hr_total} />\n                  <Metric label=\"Park\" value={pick.park_name} />\n                  <Metric\n                    label=\"Opp Pitcher\"\n                    value={\n                      pick.opposing_pitcher_name\n                        ? `${pick.opposing_pitcher_name}${pick.opposing_pitcher_hand ? ` (${pick.opposing_pitcher_hand})` : \"\"}`\n                        : \"—\"\n                    }\n                  />\n                  <Metric\n                    label=\"Pitcher HR%\"\n                    value={\n                      pick.pitcher_hr_rate_allowed !== null\n                        ? `${(pick.pitcher_hr_rate_allowed * 100).toFixed(1)}%`\n                        : \"—\"\n                    }\n                  />\n                  <Metric label=\"Park HR Factor\" value={pick.park_hr_factor.toFixed(2)} />\n                  <Metric label=\"Exp PA\" value={pick.expected_pa.toFixed(1)} />\n                </div>\n\n                <div className=\"mt-3 flex flex-wrap items-center gap-2\">\n                  <button\n                    type=\"button\"\n                    onClick={() => setSelectedPick(pick)}\n                    data-testid={`hr-pick-view-${pick.player_id}`}\n                    className=\"rounded-md border border-slate-200 bg-white px-3 py-2 text-sm font-medium text-slate-700 hover:bg-slate-100 dark:border-slate-700 dark:bg-slate-900 dark:text-slate-200 dark:hover:bg-slate-800\"\n                  >\n                    View details\n                  </button>\n                  <label className=\"flex items-center gap-2 text-sm text-slate-700 dark:text-slate-200\">\n                    <input\n                      type=\"checkbox\"\n                      checked={selected}\n                      onChange={() => toggleCompare(pick.player_id)}\n                      data-testid={`hr-pick-compare-${pick.player_id}`}\n                      className=\"h-4 w-4 rounded border-slate-300 text-slate-900 focus:ring-slate-500 dark:border-slate-700 dark:bg-slate-900\"\n                    />\n                    Compare\n                  </label>\n                </div>\n              </article>\n            );\n          })}\n        </section>\n      ) : (\n        <div\n          data-testid=\"hr-picks-empty\"\n          className=\"rounded-lg border border-slate-200 bg-white p-4 text-sm text-slate-600 shadow-sm dark:border-slate-700 dark:bg-slate-900 dark:text-slate-300\"\n        >\n          No picks available for this date.\n        </div>\n      )}\n\n      <PickDetailsDrawer pick={selectedPick} onClose={() => setSelectedPick(null)} />\n    </main>\n  );\n}\n\nfunction Metric({ label, value }: { label: string; value: string | number }) {\n  return (\n    <div>\n      <p className=\"text-[11px] uppercase tracking-wide text-slate-500 dark:text-slate-400\">\n        {label}\n      </p>\n      <p className=\"font-semibold text-slate-900 dark:text-slate-50\">{value}</p>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1272, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnoldokoye/hotbat/node_modules/next/navigation.js"],"sourcesContent":["module.exports = require('./dist/client/components/navigation')\n"],"names":[],"mappings":"AAAA,OAAO,OAAO","ignoreList":[0]}}]
}